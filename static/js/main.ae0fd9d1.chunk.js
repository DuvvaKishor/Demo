(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},20:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),l=a(15),s=a.n(l),r=(a(27),a(3)),i=a(18),o=a(36);a(14);var m=e=>{let{onRetry:t}=e;return c.a.createElement("div",{className:"error-view"},c.a.createElement("button",{onClick:t},c.a.createElement("img",{alt:"error view",src:"https://assets.ccbp.in/frontend/content/react-js/list-creation-failure-lg-output.png"})))};var d=e=>{let{onCancel:t,onUpdate:a}=e;return c.a.createElement("div",{className:"actions"},c.a.createElement("button",{onClick:t},"Cancel"),c.a.createElement("button",{onClick:a},"Update"))};a(29);const u="https://apis.ccbp.in/list-creation/lists";var E=function(){const[e,t]=Object(n.useState)(!0),[a,l]=Object(n.useState)(!1),[s,E]=Object(n.useState)([]),[b,p]=Object(n.useState)({}),[v,h]=Object(n.useState)([]),[g,N]=Object(n.useState)([]),[k,O]=Object(n.useState)(!1),[C,j]=Object(n.useState)(null),[y,w]=Object(n.useState)([]),[S,f]=Object(n.useState)(!0);console.log(s),console.log(C),Object(n.useEffect)(()=>{x()},[]);const x=async()=>{t(!0),l(!1);try{const a=await o.a.get(u),{lists:n}=a.data,c=n.reduce((e,t)=>(e[t.list_number]||(e[t.list_number]=[]),e[t.list_number].push(t),e),{}),s=Object.keys(c).sort((e,t)=>e-t);E(n),p(c),h(s),t(!1)}catch(e){l(!0),t(!1)}},F=(e,t,a)=>{p(n=>{const c=Object(r.a)({},n),l=(c[t]||[]).filter(t=>t.id!==e.id);return c[a]||(c[a]=[]),c[a].some(t=>t.id===e.id)||c[a].push(e),Object(r.a)(Object(r.a)({},c),{},{[t]:l,[a]:c[a]})})};return c.a.createElement("div",{className:"App"},e?c.a.createElement("div",{className:"loader"},c.a.createElement(i.a,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})):a?c.a.createElement(m,{onRetry:x}):c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"head-btn-container"},S&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"main-heading"},"List Creation"),c.a.createElement("button",{type:"button",className:"add-new-list-button",onClick:()=>{if(2!==g.length)return void(document.getElementById("alertForCheck").textContent="*You should select exactly 2 lists to create a new list");f(!1);const[e,t]=g.map(e=>parseInt(e,10)).sort((e,t)=>v.indexOf(e.toString())-v.indexOf(t.toString())),a=(Math.max(...Object.keys(b).map(Number))+1).toString();j(a),p(e=>Object(r.a)(Object(r.a)({},e),{},{[a]:[]})),h(t=>{const n=t.indexOf(e.toString()),c=[...t];return c.splice(n+1,0,a),c}),O(!0),w([e.toString(),a,t.toString()]),O(!0)}},"Create a New List"),c.a.createElement("span",{id:"alertForCheck"}))),c.a.createElement("div",{className:"lists-container ".concat(k?"row":"")},k?c.a.createElement("div",null,c.a.createElement("div",{className:"list-creation-view"},y.map((e,t)=>{var a,n;return c.a.createElement("div",{key:e,style:{margin:"16px"}},c.a.createElement("div",{className:"list-container"},c.a.createElement("h3",null,"List ",e," (",(null===(a=b[e])||void 0===a?void 0:a.length)||0,")"),c.a.createElement("div",{className:"list-item-container"},null===(n=b[e])||void 0===n?void 0:n.map(a=>c.a.createElement("div",{key:a.id,className:"list-item"},c.a.createElement("span",{className:"name"},a.name),c.a.createElement("span",{className:"description"},a.description),c.a.createElement("div",{className:"arrow-buttons"},t>0&&c.a.createElement("button",{className:"arrow",onClick:()=>F(a,e,y[t-1])},"\u2190"),t<y.length-1&&c.a.createElement("button",{className:"arrow",onClick:()=>F(a,e,y[t+1])},"\u2192")))))))})),c.a.createElement(d,{onCancel:()=>{f(!0),O(!1),N([]),x()},onUpdate:()=>{f(!0),O(!1),N([]),p(e=>{const t=Object(r.a)({},e);return t[3]&&(t[3]=[...t[3]]),t}),h(e=>[...e]),w([...v])}})):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"list-selection"},v.map(e=>c.a.createElement("div",{key:e,className:"list-container"},c.a.createElement("div",{className:"check-heading"},c.a.createElement("input",{id:"myCheckbox + ".concat(e),type:"checkbox",checked:g.includes(e),onChange:()=>(e=>{const t=g.includes(e)?g.filter(t=>t!==e):[...g,e];N(t)})(e)}),c.a.createElement("label",{htmlFor:"myCheckbox + ".concat(e),className:"list-head"},"List ",e)),b[e].map(e=>c.a.createElement("div",{className:"list-item",key:e.id},c.a.createElement("span",{className:"name"},e.name),c.a.createElement("span",{className:"description"},e.description))))))))))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:l,getTTFB:s}=t;a(e),n(e),c(e),l(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null))),b()}},[[20,1,2]]]);
//# sourceMappingURL=main.ae0fd9d1.chunk.js.map